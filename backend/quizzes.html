<!DOCTYPE html>
<html lang="en">
<head>

	
	
	<meta charset="utf-8" /> <!-- Character encoding for the webpage -->
<meta http-equiv="X-UA-Compatible" content="IE=edge"> <!-- Required for Internet Explorer compatibility -->

<!-- Metadata for search engines -->
<title>Backend Quizzes | Quizzatopia - Explore a World of Quizzes</title>
<meta name="generator" content="Quizzatopia" /> 
<meta name="description" content="Welcome to Quizzatopia - the ultimate destination for all your quizzing needs. Discover a world of quizzes like never before, ranging from fun trivia to professional exam preparation. With our user-friendly interface and extensive question bank, learning has never been more enjoyable. Join now to compete with others, earn points, and unlock achievements. Sign up, log in, and embark on your quizzing journey today!">
<meta itemprop="name" content="Quizzatopia">
<meta property="og:title" content="Quizzatopia - Explore a World of Quizzes">
<meta property="og:image" content="https://www.quizzatopia.com/images/logo.png">
<meta name="Distribution" content="Global" />
<meta name="Rating" content="General" />
<meta name="copyright" content="Quizzatopia">
<meta name="language" content="English">
<meta name="reply-to" content="quizzatopia@gmail.com">
<meta name="generator" content="Adobe Dreamweaver">
<meta name="Developer" content="Ron Wilson II">
<!-- Links to favicon images for various devices -->
<link rel="icon" sizes="192x192" href="/favicon.ico">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/favicon.ico" type="image/x-icon"/>
<link rel="icon" type="image/x-icon" href="/favicon.ico"> <!-- Alternate link to favicon image -->
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" /> <!-- Required for mobile devices -->
<meta property="og:type" content="website">


	
	<!-- Search engine verification -->
<meta name="google-site-verification" content="your-verification-code">

	
	
	
	
	
	  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
  
    <link rel="import" href="./elements/navbar.html">
    <link rel="import" href="./elements/footer.html">
	
	  <div id="navbar"></div>
  <!-- Rest of the page content -->

  <!-- Custom scripts -->
  <script  src="/main.js"></script> 
</head>

    
		

<body>


  <div class="container mt-4">

    <script>
	    const fs = require('fs');
const path = require('path');

// Specify the folder path
const folderPath = '/path/to/q';

// Read the contents of the folder
fs.readdir(folderPath, (err, files) => {
  if (err) {
    console.error('Error reading folder:', err);
    return;
  }

  // Generate HTML table rows for each file
  const tableRows = files.map((file) => {
    // Create the file path
    const filePath = path.join(folderPath, file);

    // Read the JSON file
    let jsonData = {};
    try {
      jsonData = JSON.parse(fs.readFileSync(filePath, 'utf8'));
    } catch (error) {
      console.error(`Error reading JSON file ${file}:`, error);
    }

    // Check if there is an error in the JSON
    const hasError = Object.keys(jsonData).length === 0;

    // Calculate the number of questions
    const questionCount = hasError ? 'N/A' : Object.keys(jsonData.questions).length;

    // Create the row with the file details and buttons
    return `
      <tr>
        <td>${file}</td>
        <td>${hasError ? '<span class="error-mark">X</span>' : '<span class="success-mark">&#10004;</span>'}</td>
        <td>${questionCount}</td>
        <td>
          <a href="/backend/fix/?q=${encodeURIComponent(file)}" class="btn btn-primary">Fix</a>
        </td>
        <td>
          <a href="/quiz/?q=${encodeURIComponent(file)}" class="btn btn-info">View</a>
        </td>
        <td>
          <a href="/backend/add/?q=${encodeURIComponent(file)}" class="btn btn-success">Add</a>
        </td>
      </tr>
    `;
  });

  // Generate the full HTML table
  const tableHTML = `
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Page Name</th>
          <th>Results</th>
          <th>Questions Count</th>
          <th>Fix</th>
          <th>View</th>
          <th>Add</th>
        </tr>
      </thead>
      <tbody>
        ${tableRows.join('')}
      </tbody>
    </table>
  `;

  // Read the existing file content (if any)
  let existingContent = '';
  try {
    existingContent = fs.readFileSync(__filename, 'utf8');
  } catch (error) {
    console.error('Error reading existing file content:', error);
  }

  // Extract the HTML content between "<!-- START GENERATED CONTENT -->" and "<!-- END GENERATED CONTENT -->"
  const startIndex = existingContent.indexOf('<!-- START GENERATED CONTENT -->');
  const endIndex = existingContent.indexOf('<!-- END GENERATED CONTENT -->');
  const updatedContent = existingContent.substring(0, startIndex + '<!-- START GENERATED CONTENT -->'.length) +
    '\n' + tableHTML + '\n' +
    existingContent.substring(endIndex);

  // Write the updated HTML to the same file
  fs.writeFile(__filename, updatedContent, (err) => {
    if (err) {
      console.error('Error writing to file:', err);
      return;
    }

    console.log('HTML content generated and updated successfully!');
  });
});

	    
	    
    
    
    
    
    </script>
    
    
       
	  </div>

  
	

    
  </body>
    </html>
