<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" /> <!-- Character encoding for the webpage -->
<meta http-equiv="X-UA-Compatible" content="IE=edge"> <!-- Required for Internet Explorer compatibility -->

<!-- Metadata for search engines -->
<title>Quiz | Quizzatopia - Explore a World of Quizzes</title>
<meta name="generator" content="Quizzatopia" /> 
<meta name="description" content="Welcome to Quizzatopia - the ultimate destination for all your quizzing needs. Discover a world of quizzes like never before, ranging from fun trivia to professional exam preparation. With our user-friendly interface and extensive question bank, learning has never been more enjoyable. Join now to compete with others, earn points, and unlock achievements. Sign up, log in, and embark on your quizzing journey today!">
<meta itemprop="name" content="Quizzatopia">
<meta property="og:title" content="Quizzatopia - Explore a World of Quizzes">
<meta property="og:image" content="https://www.quizzatopia.com/images/logo.png">
<meta name="Distribution" content="Global" />
<meta name="Rating" content="General" />
<meta name="copyright" content="Quizzatopia">
<meta name="language" content="English">
<meta name="reply-to" content="quizzatopia@gmail.com">
<meta name="generator" content="Adobe Dreamweaver">
<meta name="Developer" content="Ron Wilson II">
<!-- Links to favicon images for various devices -->
<link rel="icon" sizes="192x192" href="/favicon.ico">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/favicon.ico" type="image/x-icon"/>
<link rel="icon" type="image/x-icon" href="/favicon.ico"> <!-- Alternate link to favicon image -->
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" /> <!-- Required for mobile devices -->
<meta property="og:type" content="website">
<meta property="og:description" content="Welcome to Quizzatopia - the ultimate destination for all your quizzing needs. Discover a world of quizzes like never before, ranging from fun trivia to professional exam preparation. With our user-friendly interface and extensive question bank, learning has never been more enjoyable. Join now to compete with others, earn points, and unlock achievements. Sign up, log in, and embark on your quizzing journey today!">
<meta name="keywords" content="quizzing, quizzes, learning, education, fun, trivia, exam preparation, sign up, log in, compete, points, achievements">
<meta property="og:url" content="https://www.quizzatopia.com">
<meta name="robots" content="index,follow">
	<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@Quizzatopia">
<meta name="twitter:title" content="Quizzatopia - Explore a World of Quizzes">
<meta name="twitter:description" content="Welcome to Quizzatopia - the ultimate destination for all your quizzing needs. Discover a world of quizzes like never before, ranging from fun trivia to professional exam preparation. With our user-friendly interface and extensive question bank, learning has never been more enjoyable. Join now to compete with others, earn points, and unlock achievements. Sign up, log in, and embark on your quizzing journey today!">
<meta name="twitter:image" content="https://www.quizzatopia.com/images/logo.png">
<meta name="twitter:url" content="https://www.quizzatopia.com">

<!-- Open Graph metadata for Facebook -->
<meta property="og:site_name" content="Quizzatopia">
<meta property="og:locale" content="en_US">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">

<!-- Schema.org markup for Google+ -->
<meta itemprop="description" content="Welcome to Quizzatopia - the ultimate destination for all your quizzing needs. Discover a world of quizzes like never before, ranging from fun trivia to professional exam preparation. With our user-friendly interface and extensive question bank, learning has never been more enjoyable. Join now to compete with others, earn points, and unlock achievements. Sign up, log in, and embark on your quizzing journey today!">
<meta itemprop="image" content="https://www.quizzatopia.com/images/logo.png">

	
	<!-- Search engine verification -->
<meta name="google-site-verification" content="your-verification-code">

<!-- Canonical URL -->
<link rel="canonical" href="https://www.quizzatopia.com/quiz">

<!-- Author information -->
<meta name="author" content="Ron Wilson II">
<meta name="contact" content="quizzatopia@gmail.com">

<!-- Page-specific metadata -->
<meta name="subject" content="Quizzatopia Platform">
<meta name="topic" content="Quizzing, Education, Learning, Quizzes">
<meta name="geo.placename" content="Dallas, TX">
<meta name="geo.region" content="US-TX">

<!-- Language and content type -->
<meta name="content-language" content="en-US">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<!-- Caching and expiration -->
<meta http-equiv="expires" content="Tue, 01 Jan 2024 00:00:00 GMT">
<meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="pragma" content="no-cache">
	
	
		<!-- google ad sense code -->
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4968673576211489"
     crossorigin="anonymous"></script>
	
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

	  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="./CSS/indexOptions.css">
  
    <link rel="import" href="./elements/navbar.html">
    <link rel="import" href="./elements/footer.html">
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9VG78SV9KZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9VG78SV9KZ');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4968673576211489"
     crossorigin="anonymous"></script>
<body>
	<main_section>
  <div id="navbar"></div>
    <!-- rest of the page content -->
		
		
<style>
  /* Styles for the social-sharing section */
  #social-sharing {
    padding: 5%;
  }
  
  /* Styles for the social-sharing buttons */
  #social-sharing .btn {
    display: inline-block;
    padding: 2%;
    margin: 1%;
  }
  
  /* Styles for the getFull_BTN element */
  #getFull_BTN {
    width: 80%;
    padding: 2%;
    margin: 5% 0 10% 0;
  }
  
  /* Styles for the progressBar element */
  #progressBar {
    height: 20px;
  }
  
  /* Styles for the progressBarValue element */
  #progressBarValue {
    transition: width 0.5s ease-in-out;
  }
	#quiz-timer-qn{
		display:flex;
	}
	
	#question-number{
		
	}
	
	
	/* Example CSS styling for the pie chart */
#pie-chart {
  margin-top: 20px;

    width: 50% !important;
    height: 50% !important;
    margin: auto;
}
	
	
	
.badge-img {
  max-width: 200px;
  max-height: 200px;
  margin-bottom: 20px;
  box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.2);
  border-radius: 10px;
}

	#report_BTN{
		
	}

</style>
<div id="optionContainer" class="container">
  <div class="row" style="
    padding: 2%;
">
    <div class="col-md-6">
      <div class="quiz-options">
        <div class="form-check">
          <div id="optionsQuizNameWrap">
            <div id="optionsQuizName" class="text-center mb-4">Quiz Name</div>
            <!-- Quiz Name -->
          </div>
        </div>
        <hr>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="timer-checkbox">
          <label class="form-check-label" for="timer-checkbox">
            Enable Timer
          </label>
          <!-- Enable Timer Checkbox -->
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="countdown-per-question">
          <label class="form-check-label" for="countdown-per-question">
            Countdown per Question
          </label>
          <!-- Countdown per Question Checkbox -->
        </div>
        <div id="timer-timeGroup" class="form-group">
          <label for="quiz-time">Quiz Time:</label>
          <div class="input-group">
            <input type="number" id="quiz-time" name="quiz-time" value="30" class="form-control">
            <div class="input-group-append">
              <span class="input-group-text">Seconds</span>
            </div>
          </div>
          <!-- Quiz Time Input -->
        </div>
        
        <hr>
        
        <div id="testInfo" class="text-center mb-4"></div>
        <!-- Test Information Placeholder -->
        
        <div id="progressBar" class="progress mb-4">
          <div id="progressBarValue" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <!-- Progress Bar -->
        
        <div class="text-center">
          <button id="start-btn" class="btn btn-primary btn-lg">Start Quiz</button>
          <!-- Start Quiz Button -->
		    <div class="quiz-image-container text-center">
        <img src="/images/lan/9.png" alt="quiz-image" class="w-100">
        <!-- Quiz Image -->
      </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="quiz-image-container text-center">
        <img src="/images/lan/10.png" alt="quiz-image" class="w-100">
        <!-- Quiz Image -->
      </div>
	   
	    <div class="container" style="
    padding: 2%;
">
  <div class="row" >
    <div class="col-md">
      <div class="study-coach-box">
        <a href="coach-details.html" class="coach-link">
          <div class="coach-image">
            <img src="/images/pics/2.png" alt="Study Coach 1" style="
    width: -webkit-fill-available;
">
          </div>
          <div class="coach-details">
            <h2 class="coach-name">Sarah Johnson</h2>
            <p class="coach-specialty">Specialty: English Literature</p>
            <p class="coach-description">Dedicated to helping students develop strong reading and analytical skills for success in English literature exams.</p>
          </div>
        </a>
      </div>
      <a href="coach_apply.html" class="btn btn-primary btn-apply-coach">Apply to be a Study Coach</a>
    </div>
    <div class="col-md">
      <div class="study-coach-box">
        <a href="coach-details.html" class="coach-link">
          <div class="coach-image">
            <img src="/images/pics/7.png" alt="Study Coach 2" style="
    width: -webkit-fill-available;
">
          </div>
          <div class="coach-details">
            <h2 class="coach-name">Michael Chen</h2>
            <p class="coach-specialty">Specialty: Science and Biology</p>
            <p class="coach-description">Passionate about guiding students through complex scientific concepts and preparing them for biology exams.</p>
          </div>
        </a>
      </div>
      <a href="coach_apply.html" class="btn btn-primary btn-apply-coach">Apply to be a Study Coach</a>
    </div>
    <div class="col-md d-md-none">">
      <div class="study-coach-box">
        <a href="coach-details.html" class="coach-link">
          <div class="coach-image">
            <img src="/images/pics/5.png" alt="Study Coach 3" style="
    width: -webkit-fill-available;
">
          </div>
          <div class="coach-details">
            <h2 class="coach-name">Emily Thompson</h2>
            <p class="coach-specialty">Specialty: History and Social Studies</p>
            <p class="coach-description">Committed to helping students gain a deep understanding of historical events and develop critical thinking skills for history exams.</p>
          </div>
        </a>
      </div>
      <a href="coach_apply" class="btn btn-primary btn-apply-coach">Apply to be a Study Coach</a>
    </div>
  </div>
</div>

	    
	    
    </div>
  </div>
</div>



    
    
  <div class="container mt-4 d-none" id="quiz-container">
  <!-- Quiz Container -->
  <div class="layer-1">
    <!-- First Layer -->
    <div class="layer-2" id="quiz_main_area">
      <!-- Second Layer: Main Quiz Area -->
      <div id="ad-container">
        <!-- Ad Container -->
        <div id="ad-box">
          Google Ads
          <div id='ad-view' style="min-width:255px">
            <span id='ad-text'>Is the ad Showing?</span>
            <!-- Google Ad Code -->
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4968673576211489" crossorigin="anonymous"></script>
            <ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-6t+ed+2i-1n-4w" data-ad-client="ca-pub-4968673576211489" data-ad-slot="5743816421"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
            <!-- <span class='ad-text'>This will be an ad</span> -->
          </div>
        </div>
      </div>
	    
<div id="quiz-timer-qn" class="d-flex justify-content-between">
  <div id="question-number" class="font-weight-bold"></div>
  <div id="timer" class="text-right"></div>
</div>


      <div class="progress-bar-container">
        <!-- Progress Bar Container -->
        <div class="progress-bar" id="progress-bar"></div>
        <!-- Progress Bar -->

      </div>
      <h1 id="question"></h1>
      <!-- Question heading -->
      <ul class="list-unstyled" id="optionContainers">
        <!-- Answer option containers -->
        <li><button class="btn btn-primary answer-option"></button></li>
        <li><button class="btn btn-primary answer-option"></button></li>
        <li><button class="btn btn-primary answer-option"></button></li>
        <li><button class="btn btn-primary answer-option"></button></li>
      </ul>
      <div id="explanation"></div>
      <!-- Explanation area -->
      <div id="btn_container">
        <!-- Button container -->
<button id="skip-next-btn" class="btn btn-primary">Skip</button>

      </div>
    </div>
  </div>
</div>

<div class="container mt-4 d-none" id="end-container">
  <!-- End Container -->
  <h2 id="result-text"></h2>
  <!-- Result Text -->
  <h2 class="mt-4">Your Final Score</h2>
  <!-- Final Score Heading -->
  <p id="score"></p>
  <!-- Score Placeholder -->
  <p id="feedback"></p>
  <!-- Feedback Placeholder -->
  <button id="retake-btn" class="btn btn-primary mt-4">Retake Quiz</button>
  <!-- Retake Quiz Button -->
  <button class="other-quiz-btn btn btn-secondary mt-4" onclick="window.location.href = 'quizzes'">Try Another Quiz</button>
  <!-- Try Another Quiz Button -->
  <div id="social-sharing" class="mt-4">
    <!-- Social Sharing Section -->
    <p>
      <a id="social_fb" href="" target="_blank" class="btn btn-social btn-facebook btn-primary"><i class="fab fa-facebook-f"></i> Share on Facebook</a>
      <!-- Share on Facebook Button -->
      <a id="social_tw" href="" target="_blank" class="btn btn-social btn-twitter btn-info"><i class="fab fa-twitter"></i> Share on Twitter</a>
      <!-- Share on Twitter Button -->
    </p>
    <p>
      <a id="social_red" href="" target="_blank" class="btn btn-social btn-reddit btn-danger"><i class="fab fa-reddit"></i> Share on Reddit</a>
      <!-- Share on Reddit Button -->
      <a id="social_ln" href="" target="_blank" class="btn btn-social btn-linkedin btn-primary" style="margin-right: 10px;"><i class="fab fa-linkedin"></i> Share on LinkedIn</a>
      <!-- Share on LinkedIn Button -->
    </p>
  </div>
  <button id="getFull_BTN" class="btn btn-primary mt-4" onclick="window.location.href = 'LearnMore'">Get Full Quiz</button>
  <!-- Get Full Quiz Button -->
</div>

		
			
	
<!-- Report Problem Modal -->
<div class="modal fade" id="reportModal" tabindex="-1" role="dialog" aria-labelledby="reportModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-sm">
    <div class="modal-content rounded-3">
      <div class="modal-header">
        <h5 class="modal-title" id="reportModalLabel">Report Problem</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form id="reportForm">
          <div class="form-group">
            <label for="reportType">Report Type</label>
            <select class="form-control" id="reportType" required>
              <option value="">Select...</option>
              <option value="question">Report Question</option>
              <option value="quiz">Report Quiz Error</option>
              <option value="other">Other</option>
            </select>
          </div>
          <div class="form-group">
            <label for="reportDetails">Details</label>
            <textarea class="form-control" id="reportDetails" rows="4" required></textarea>
          </div>
          <button type="submit" class="btn btn-primary">Submit Report</button>
        </form>
      </div>
    </div>
  </div>
</div>
	
	
		
		
	<div class="text-right" style="text-align: right;margin-right: 5%;">
  <!-- Button to trigger the pop-up -->
  <button type="button" id="report_BTN" class="btn btn-primary float-right" data-toggle="modal" data-target="#reportModal">
    Report Problem
  </button>
</div>

	 
	</main_section>
	
	

	
	
	
	
	
	
	
 <style>
    .message-card {
      margin-bottom: 20px;
    }
  </style>

  <div id="MessageBoard" class="container mt-5">
    <h2 id="msg_quiz_name" class="mb-4">Quiz Message Board</h2>
    <div class="row">
      <div class="col-lg-8 offset-lg-2">
        <!-- Message Form -->
        <div class="card mb-4">
          <div class="card-header">
            <h5 class="card-title mb-0">Create a New Post</h5>
          </div>
          <div class="card-body">
            <form>
              <div class="mb-3">
                <label for="name" class="form-label">Name</label>
                <input type="text" class="form-control" id="name" placeholder="Enter your name">
              </div>
              <div class="mb-3">
                <label for="message" class="form-label">Message</label>
                <textarea class="form-control" id="message" rows="4" placeholder="Type your message here"></textarea>
              </div>
              <button type="submit" class="btn btn-primary">Submit</button>
            </form>
          </div>
        </div>
        
        <!-- Message List -->
        <div class="card">
          <div class="card-header">
            <h5 class="card-title mb-0">Latest Posts</h5>
          </div>
          <div class="card-body">
            <div class="message-card">
              <div class="card mb-3">
                <div class="card-body">
                  <h5 class="card-title">John Doe</h5>
                  <p class="card-text">I really enjoyed the quiz! It was challenging yet fun. Looking forward to more quizzes like this.</p>
                  <p class="card-text"><small class="text-muted">Posted on January 15, 2023</small></p>
                </div>
              </div>
            </div>
  
            <div class="message-card">
              <div class="card mb-3">
                <div class="card-body">
                  <h5 class="card-title">Jane Smith</h5>
                  <p class="card-text">The quiz questions were well-crafted and thought-provoking. Can't wait to share it with my friends!</p>
                  <p class="card-text"><small class="text-muted">Posted on January 16, 2023</small></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

	
	
	
	
	
	
 </body>
  <div id="mainFooter"></div>

	    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" ></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" ></script>
    <script src="helpScript.js"></script>


	
  <script>
    
    
    
// Get the current URL and parse its search parameters
const urlParams = new URLSearchParams(window.location.search);

// Get the value of the "q" parameter
let q = urlParams.get('q');

if (q === null) {
  const files = [
    "job_interviews",
    "marvel_cinematic_universe",
    "middle_school_math",
    "high_school_science",
    "movies",
    "nclex_exam",
    "pop_culture"
  ];

  function getRandomFile(files) {
    return files[Math.floor(Math.random() * files.length)];
  }

  q = getRandomFile(files);
}

// Use the value of "q"
console.log("urlParams     "+q); 

                const newStr = q.replace(/_/g, " ");
	  
	  
	  

	  
document.getElementById("msg_quiz_name").innerHTML = newStr;
document.getElementById("optionsQuizName").innerHTML = newStr;
	  
document.getElementById("social_fb").href = "https://www.facebook.com/sharer/sharer.php?u=https://rw-501.github.io/Q-A/index.html?q="+q;
document.getElementById("social_tw").href = "https://twitter.com/intent/tweet?url=https://rw-501.github.io/Q-A/index.html?q="+q;
document.getElementById("social_ln").href = "ttps://www.linkedin.com/shareArticle?url=https://rw-501.github.io/Q-A/index.html?q="+q;
document.getElementById("social_red").href = "https://www.reddit.com/submit?url=https://rw-501.github.io/Q-A/index.html?q="+q;
                 
function calculateScore(quizInfo) {
  const totalQuestions = quizInfo.numberOfQuestions || 0;
  const correctAnswers = quizInfo.questionCorrect || 0;

  const score = correctAnswers;
  const percentage = totalQuestions > 0 ? (correctAnswers / totalQuestions) * 100 : 0;

  return {
    score,
    percentage,
  };
}


  
	  
	  
	  
	  
function saveQuizInfo(quizCode, quizInfo) {
  const savedQuizCode = localStorage.getItem('quizCode');

  if (savedQuizCode !== quizCode) {
    localStorage.setItem('quizCode', quizCode);
  }

  const savedQuizInfo = JSON.parse(localStorage.getItem('quizInfo')) || {};
  const savedScore = savedQuizInfo.questionCorrect || 0;
  const newScore = quizInfo.questionCorrect || 0;
	
//  console.log('saveQuizInfo Quiz Info:', quizInfo);
  //console.log('saveQuizInfo savedScore:', savedScore);
  //console.log('saveQuizInfo newScore:', newScore);

  if (newScore > savedScore || savedScore === 0 || savedScore === null) {
    savedQuizInfo.quizCode = quizCode;
    savedQuizInfo.quizInfo = quizInfo;
//	  console.log("quizInfo UPDATED     "); 
 // console.log(savedQuizInfo +'  saveQuizInfo newScore:  '+ newScore);

	  
	  // Retrieve the stored quizInfo from localStorage
const storedQuizInfo = localStorage.getItem('quizInfo');

if (storedQuizInfo) {
  try {
    // Parse the quizInfo JSON string into an object
    const quizInfo = JSON.parse(storedQuizInfo);

    // Update the questionCorrect property with the new value
    const newQuestionCorrect = newScore; // Replace with the new value
    quizInfo.questionCorrect = newQuestionCorrect;

    // Stringify the updated quizInfo object back into a JSON string
    const updatedQuizInfo = JSON.stringify(quizInfo);

    // Store the updated quizInfo JSON string back in localStorage
    localStorage.setItem('quizInfo', updatedQuizInfo);

    console.log('Successfully updated questionCorrect in quizInfo.');
  } catch (error) {
    console.error('Error parsing stored quizInfo:', error);
    // Handle error, display appropriate message or fallback behavior
  }
} else {
  // Handle case where there is no stored quizInfo, display appropriate message or fallback behavior
}

	  
	  
  }
}



// Log the contents of the storage
function logStorageContents(xxx) {
  const savedQuizCode = localStorage.getItem('quizCode');
  const savedQuizInfo = localStorage.getItem('quizInfo');

  //console.log('logStorageContents Quiz Code:  '+xxx+"   ", savedQuizCode);
//  console.log('logStorageContents Quiz Info:', savedQuizInfo);
}


    // Quiz 
questions = [];

let quizCode;
let quizName;
let numberOfQuestions;

function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// Retrieve the stored test information and display it
function displayTestInfo() {
  const storedQuizInfo = localStorage.getItem('quizInfo');
  if (storedQuizInfo) {
    try {
      const quizInfo = JSON.parse(storedQuizInfo);
      const testInfoDiv = document.getElementById('testInfo');
      const progressBar = document.getElementById('progressBarValue');

      // Calculate user score and completion percentage
      const { score, percentage } = calculateScore(quizInfo);

      testInfoDiv.innerHTML = `
        <h3>Quiz Information</h3>
        <p><strong>Quiz Code:</strong> ${quizInfo.quizCode}</p>
        <p><strong>Quiz Name:</strong> ${quizInfo.quizName}</p>
        <p><strong>Number of Questions:</strong> ${quizInfo.numberOfQuestions}</p>
        <p><strong>Question Correct:</strong> ${score}</p>
        <p><strong>Best Score:</strong> ${percentage.toFixed(0)}%</p>
      `;
      logStorageContents("Start");

      // Update the progress bar
      if (progressBar) {
        const progressPercentage =  quizInfo.questionCorrect  / quizInfo.numberOfQuestions * 100;
        progressBar.style.width = progressPercentage + '%';
      }
    } catch (error) {
      console.error('Error parsing stored quiz info:', error);
      // Handle error, display appropriate message or fallback behavior
    }
  } else {
    // Handle case where there is no stored quiz info, display appropriate message or fallback behavior
  }
}




// Check if quizCode matches and retrieve or save quiz info
function checkQuizCodeAndGetInfo(quizCode, quizName, numberOfQuestions) {
  const savedQuizCode = localStorage.getItem('quizCode');
  let quizInfo;
  logStorageContents();
  let timestamp = new Date().toLocaleString();

  if (savedQuizCode !== quizCode) {
    // Quiz code doesn't match, save new quiz info to storage
    quizInfo = {
      quizCode: quizCode,
      quizName: quizName,
      numberOfQuestions: numberOfQuestions,
      questionCorrect: 0,
      timestamp: timestamp
    };

    localStorage.setItem('quizCode', quizCode);
    localStorage.setItem('quizInfo', JSON.stringify(quizInfo));
  } else {
    // Quiz code matches, retrieve existing quiz info from storage
    quizInfo = JSON.parse(localStorage.getItem('quizInfo'));
    quizInfo.quizName = quizName;
    quizInfo.numberOfQuestions = numberOfQuestions;
    quizInfo.timestamp = timestamp;
    localStorage.setItem('quizInfo', JSON.stringify(quizInfo));
  }

  return quizInfo;
}


// Fetch and assign the data
function fetchData(q) {
  fetch("q/" + q + ".json")
    .then(response => response.json())
    .then(data => {
      if (data.length === 0) {
        // Handle empty data
        console.log("Empty data");
        const randomFile = getRandomFile(files);
        fetchData(randomFile);
  } else {
    // Use the questions data here
    const questionData = data.questions.map(questionObj => ({
      question: questionObj.question,
      answer: questionObj.answer,
      options: questionObj.options,
      explanation: questionObj.explanation
    }));

    // Update quizCode, quizName, numberOfQuestions
    quizCode = data.quizCode;
    quizName = data.quizName;
    numberOfQuestions = data.numberOfQuestions;

    // Check quiz code and retrieve or save quiz info
    const quizInfo = checkQuizCodeAndGetInfo(quizCode, quizName, numberOfQuestions);

    questions.push(...questionData);
    shuffleArray(questions);

    // Access and use the retrieved quiz information
    const questionsCompleted = quizInfo.questionsCompleted;

    // Display the stored test information
    displayTestInfo();
  }
})
.catch(error => console.error(error));
}

// Call fetchData with the initial q value
fetchData(q);
	      
	      
	      


	      // Get the modal element
const reportModal = document.getElementById('reportModal');

// Get the form element
const reportForm = document.getElementById('reportForm');

// Add submit event listener to the form
reportForm.addEventListener('submit', function (e) {
  e.preventDefault();

  // Get the selected report type and details
  const reportType = document.getElementById('reportType').value;
  const reportDetails = document.getElementById('reportDetails').value;

  // Perform any necessary actions with the report data
  // For example, you can send an AJAX request to report the problem

  // Close the modal
  closeModal();
});

// Function to open the modal
function openModal() {
  reportModal.style.display = 'block';
}

// Function to close the modal
function closeModal() {
  reportModal.style.display = 'none';
}

// Add click event listener to the report button
document.getElementById('report_BTN').addEventListener('click', openModal);

// Add click event listener to the close button
document.getElementById('report_BTN').addEventListener('click', closeModal);

// Add click event listener to the modal overlay
document.addEventListener('click', function (e) {
  if (e.target === reportModal) {
    closeModal();
  }
});

	      
	      
	      
	      
    </script>

  <script src="script.js"></script>

 

   
</html>

