<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile  | Quizzatopia Platform</title>

	  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css">

    <link rel="stylesheet" href="./style.css" />
  
    <link rel="import" href="./elements/navbar.html">
    <link rel="import" href="./elements/footer.html">
    </head>

<body>
  <div id="navbar"></div>
    <!-- rest of the page content -->
  	<style>
	

		.shadow {
			box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
		}
	</style>

<div class="container shadow py-4">
  	 
 <!-- Profile container -->
  <div class="container">
    <!-- ...previous profile content... -->
    
    <!-- Leaderboard section -->
    <div class="mt-5">
      <!-- Buttons to switch leaderboards -->
      <div class="btn-group d-flex">
        <!-- Global leaderboard button -->
        <button class="btn btn-primary w-100" onclick="loadLeaderboard('global')">Global</button>
        
        <!-- Local leaderboard button -->
        <button class="btn btn-primary w-100" onclick="loadLeaderboard('local')">Local</button>
        
        <!-- Friends leaderboard button -->
        <button class="btn btn-primary w-100" onclick="loadLeaderboard('friends')">Friends</button>
      </div>
      
      <!-- Leaderboard table -->
      <table class="table table-hover mt-3">
        <thead>
          <tr>
            <th scope="col">Rank</th>
            <th scope="col">User</th>
            <th scope="col" class="text-right">Points</th>
          </tr>
        </thead>
        <tbody id="leaderboardBody">
          <!-- Leaderboard rows will be dynamically added here -->
        </tbody>
      </table>
    </div>
  </div>

  
  
  
  
  
  
  </div>
   		  </body>
	  <div id="mainFooter"></div>
	  
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.3/umd/popper.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.2/js/bootstrap.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  
  <script>
    // Function to load the appropriate leaderboard using AJAX
    function loadLeaderboard(type) {
      // Perform an AJAX request to fetch the leaderboard data based on the selected type
      $.ajax({
        url: `get_leaderboard.php?type=${type}`, // Replace with your server-side endpoint
        method: 'GET',
        success: function(data) {
          // Clear the leaderboard body
          $('#leaderboardBody').empty();
          
          // Loop through the received data and add rows to the leaderboard table
          for (var i = 0; i < data.length; i++) {
            var rank = data[i].rank;
            var userPicture = data[i].userPicture;
            var userName = data[i].userName;
            var points = data[i].points;
            
            // Construct the row HTML
            var rowHtml = `
              <tr onclick="viewUserProfile('${userName}')">
                <td>${rank}</td>
                <td>
                  <img src="${userPicture}" alt="${userName}" class="rounded-circle mr-2" style="width: 30px; height: 30px;">
                  ${userName}
                </td>
                <td class="text-right">${points}</td>
              </tr>
            `;
            
            // Add the row to the leaderboard body
            $('#leaderboardBody').append(rowHtml);
          }
        },
        error: function() {
          console.log('Error occurred while fetching leaderboard data.');
        }
      });
    }
 // Function to view user profile when a row is clicked
    function viewUserProfile(userName) {
      // Perform an action to view the user's profile
      console.log(Viewing user profile: ${userName});
// You can replace the console.log statement with your desired action to view the user's profile.
}
</script>

      
      
      
      
      
      
      
      
    <script src="/helpScript2.js"></script>
  

</html>
